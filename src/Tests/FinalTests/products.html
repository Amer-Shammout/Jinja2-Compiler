{% extends "base.html" %}

{% block content %}
<div class="grid">

    {% if products %}
    {% for product in products %}
    <div class="card">

        <h3>{{ product.name }}</h3>

        <p>
            {{ product.description | truncate(120, True, '...') }}
        </p>

        <p class="price">
            {% if product.price %}
            ${{ "%.2f"|format(product.price) }}
            {% else %}
            Price not available
            {% endif %}
        </p>

        {% if product.in_stock %}
        <span class="tag">In Stock</span>
        {% else %}
        <span class="tag">Out of Stock</span>
        {% endif %}

        {% if product.category %}
        <p>
            Category:
            <strong>
                {{ product.category }}
            </strong>
        </p>
        {% endif %}

        <a href="{{ url_for('product_details', product_id=product.id) }}"
           class="btn-primary">
            View Details
        </a>

    </div>
    {% endfor %}

    {% else %}
    <div class="card">
        <p>No products available.</p>
    </div>
    {% endif %}

</div>
{% endblock %}
